<%= "#{@album}#{@album.compilation? ? '' : " (by #{@album.artist})"}" %>

<table class="table_base">
  <thead>
    <tr>
      <th>#</th>
      <th>Track Name</th>
      <% if @album.compilation? -%>
        <th>Artist Name</th>
      <% end -%>
      <th>Time</th>
    </tr>
  </thead>
  <tbody>
    <% @album.tracks.each do |track| -%>
      <tr>
        <td style="text-align: right">
          <%= link_to track.track_number, track_path(track) %>
        </td>
        <td>
          <%= track.name %>
        </td>
        <% if @album.compilation? -%>
          <td>
            <%= track.artist %>
          </td>
        <% end -%>
        <td class="numeric">
          <%= str_time_in_min_and_sec(track.total_time_in_sec.round) %>
        </td>
      </tr>
    <% end -%>
  </tbody>
</table>
